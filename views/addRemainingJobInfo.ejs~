<!DOCTYPE html>
<html>
	<head>
        <title>Add Remaining Job Info</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
        
        <script type="text/javascript">
            
        var ReasonForCleaning=new Array(5);
        $(document).ready(function() {
                     
                          
                         $("#OldJobID").hide();
                         $("#span_OldJobID").hide();
                          
                          $("#nav").height($("#section").outerHeight());
                          
                        
                          $('input[type=radio][name=JobType]').change(function() {
                                                                        if (this.value == 'Old') {
                                                                        $("#OldJobID").toggle();
                                                                        $("#span_OldJobID").toggle();
                                                                        }
                                                                        else{
                                                                        $("#OldJobID").hide();
                                                                      $("#span_OldJobID").hide();
                                                                        }
                                                                        });
                          
                           
                                               $('#ReasonForCleaning1').change(function(){
                                                                               if ($(this).is(':checked')) {
                                                                               ReasonForCleaning[0] = $('#ReasonForCleaning1').val();
                                                                               }
                                                                               else{
                                                                               ReasonForCleaning[0]="";
                                                                               }
                                                                               
                                                                               });
                                               $('#ReasonForCleaning2').change(function(){
                                                                               if ($(this).is(':checked')) {
                                                                               ReasonForCleaning[1] = $('#ReasonForCleaning2').val();
                                                                               }
                                                                               else{
                                                                               ReasonForCleaning[1]="";
                                                                               }
                                                                               
                                                                               });
                                               $('#ReasonForCleaning3').change(function(){
                                                                               if ($(this).is(':checked')) {
                                                                               ReasonForCleaning[2] = $('#ReasonForCleaning3').val();
                                                                               }
                                                                               else{
                                                                               ReasonForCleaning[2]="";
                                                                               }
                                                                               
                                                                               });
                                               $('#ReasonForCleaning4').change(function(){
                                                                               if ($(this).is(':checked')) {
                                                                               ReasonForCleaning[3] = $('#ReasonForCleaning4').val();
                                                                               }
                                                                               else{
                                                                               ReasonForCleaning[3]="";
                                                                               }
                                                                               
                                                                               });
                                               $('#ReasonForCleaning5').change(function(){
                                                                               if (this.checked) {
                                                                               ReasonForCleaning[4] = $('#ReasonForCleaning5').val();
                                                                               
                                                                               }
                                                                               else{
                                                                               ReasonForCleaning[4]="";
                                                                               
                                                                               
                                                                               }
                                                                               
                                                                               });
                          
                          
                          });
                          
               


        function submitJob(){
           
            po =$("#PurchaseOrderNumber").val();
            //console.log('po = ' +po);
            cl =$("#CleaningLocation").val();
            vtm =$("#VehicleTotalMileage").val();
            tod = $("#TypeOfDriving").val();
            date = $("#date").val();
            reason =ReasonForCleaning[0]+ReasonForCleaning[1]+ReasonForCleaning[2]+ReasonForCleaning[3]+ReasonForCleaning[4];
                    //console.log('reason '+reason);
                                if(po =="" || po==null|| po==undefined){
                                    alert("Please input the PO number.");
                                    event.preventDefault();
                                    return;
                                }
                                 
                                 if(cl =="" || cl==null|| cl==undefined){
                                 alert("Please input the Clean Location.");
                                 event.preventDefault();
                                 return;
                                 }
                                 if(vtm =="" || vtm==null|| vtm==undefined){
                                 alert("Please input the Vehicle Total Mileage.");
                                 event.preventDefault();
                                 return;
                                 }
                                 if(tod ==""|| tod==-1 || tod==null|| tod==undefined){
                                 alert("Please input the Type of Driving.");
                                 event.preventDefault();
                                 return;
                                 }
                                 if(date =="" || date ==null ||date ==undefined){
                                 alert("Please select a date.");
                                 event.preventDefault();
                                 return;
                                 
                                 }
                                 if(reason ==""){
                                     alert("Please select a date.");
                                     event.preventDefault();
                                     return;
                                     
                                 }
                                 
            
            //window.location = "http://localhost:9000/chooseExistingContactBasedOnCompanyID/"+CompanyID;

        }
        function POonchange(){
            $("#form_1").attr("action","/addRemainingJobInfo2?ContactID="+$("#ContactID").html()+"&DPFID="+$("#DPFID").html()+"&VIN="+$("#VIN").html());
            console.log($("#form_1").attr("action"));
        }
        
        </script>

        <title> <%= h1 %></title>
        
        <style>



       #header {
    background-color:black;
    color:white;
    text-align:center;
    padding:5px;
}


	#section {
		    width:1000px;
		    float:left;
		    padding:10px;
            
            height: auto;
		}
        #section1{
            width:25%;
            float:left;
            padding:10px;
            text-align: right;
        }
        #section2{
            width:20%;
            float:left;
            padding:10px;
            text-align: left;
        }
        #section3_4{
            width:50%;
            float:left;
            text-align:center;
            top:50%;
            position: relative;
            top:50px;
            
            
        }
        #section3{
            width:40%;
            float:left;
            text-align:right;
             padding:10px;
        }
        #section4{
            width:40%;
            float:left;
            text-align:left;
            padding:10px;
            
        }

		#nav {
		    line-height:30px;
		    background-color:#eeeeee;
		    height:auto;
            min-height: 600px;
            
		    width:150px;
		    float:left;
		    padding:2px;	      
		}

		#footer {
		    background-color:black;
		    color:white;
		    clear:both;
		    text-align:center;
		   padding:5px;	 	 
		}

        .submit{
            max-width: 150px;
            max-height: 100px;
        }
        .input1 {
            text-align: left;
            width:150px;
        }
        input[type="checkbox"]{
            -webkit-transform: scale(1);
        }
</style>

    </head>
    <body>
        
                <div id = "header">
                <h1><%=title%></h1>
                </div>


                <div  id="nav">
                <button onclick="{location.href='http://localhost:9000/userPage/inputSelection'}">Back To Home</button>
                <button onclick="{location.href='http://localhost:9000/signout'}">signout</button>
             </div>


                <div id="section">
                    
                    <p>
                    <% if(typeof(errorMessage) !== 'undefined') {%>
                    <span style="color:red"><%= errorMessage %></span>
                    <% } %>
                    </p>
                    <p>
                    <% if(typeof(DPFID) !== 'undefined') {%>
                    <span style="color:green;display:none" id ="DPFID" value = "<%= DPFID%>"><%= DPFID %></span>
                    <% } %>
                    </p>
                    <p>
                    <% if(typeof(ContactID) !== 'undefined') {%>
                    <span style="color:green; display:none" id="ContactID" value="<%= ContactID%>"><%=ContactID %></span>
                    <% } %>
                    </p>
                    <% if(typeof(VIN) !== 'undefined') {%>
                    <span style="color:green; display:none" id="VIN" value="<%= VIN%>"><%= VIN %></span>
                    <% } %>
                    </p>
                    
                    
                <div id = "section1">
                                  <br><br>
                    Old Job or New Job :<br><br>
                    
                    <span id = 'span_OldJobID'>Old Job ID</span><br/><br/>
                    Clean Location:<br><br>
                    Purchase Order Number:<br><br>
                    Work Order Number:<br><br>
                    Vehicle Total Mileage:<br><br>
                    Vehicle Total Hours:<br><br>
                    Date:<br/><br/>
                    Type of Driving:<br><br>
                </div>
                
                <form id = "form_1" method="post" name="form1"   >
              
                    <div id = "section2">
                    
                    <p><span id="Job_span" >Input Job Details    </span>
                    <br>
                    <input type="radio" id ="JobType1" name="JobType" value="Old"> Old Job
                    <input type="radio" id ="JobType2" name="JobType" value="New"checked> New Job<br><br>
                    
                    <input  class ="input1"  type ="text"  id = "OldJobID" name ="OldJobID"/><br>
                    </p>
                 
                 
                            <select class ="input1"   id = "CleaningLocation" name ="CleaningLocation">
                                <option value="">-- select --</option>
                                <option value="Fogelsville">Fogelsville</option>
                                </select>
                                <br><br>
                            <input type ="text" class ="input1"  id = "PurchaseOrderNumber" name = "PurchaseOrderNumber" onchange = "POonchange();"/><br><br>
                            <input type ="text"  class ="input1"  id = "WorkOrderNumber" name = "WorkOrderNumber"/><br><br>
                            <input type ="text"  class ="input1"  id = "VehicleTotalMileage" name = "VehicleTotalMileage"/><br><br>
                            <input type ="text" class ="input1"   id = "VehicleTotalHours" name ="VehicleTotalHours" value =""/><br><br>
                            <input type ="date" class = "input1" id = "date" name ="date"/><br><br>
                            <select name = "TypeOfDriving" id="TypeOfDriving" onchange="">
                            <option value="-1">-- select --</option>
                        
                            <option value="Over The Road/Highway">Over The Road/Highway</option>
                            <option value="Start and Stop">Start and Stop</option>
                            <option value="High Idle">High Idle</option>
                            <option value="Other">Other</option>
                            </select>
                            <select name = "AlwaysInsert" id = "AlwaysInsert" hidden>
                                <option value="-1">-- select --</option>
                                <option value="0">-- Not --</option>
                                <option value="-1">-- Yes --</option>

                            </select>
                            <input type="image" src ="../../public/images/next.jpeg" alt="submit" id = "submit1"  class = "submit" onclick="submitJob()">
                          </div>
                    
                            <div id = "section3_4">
                                Reasons For Cleaning<br><br>
                            <div id="section3">
                                <input type="checkbox" id ="ReasonForCleaning1" name="ReasonForCleaning" value="Prevenetive Maintenance"><br><br>
                                <input type="checkbox" id ="ReasonForCleaning2" name="ReasonForCleaning" value="Face Plugged With Soot"><br><br>
                                <input type="checkbox" id ="ReasonForCleaning3" name="ReasonForCleaning" value="Engine Failure"><br><br>
                                <input type="checkbox" id ="ReasonForCleaning4" name="ReasonForCleaning" value="EGR Failure"><br><br>
                                <input type="checkbox" id ="ReasonForCleaning5" name="ReasonForCleaning" value="Turbo Failure"><br><br>
                                <input type = "text" id = "Reason" name ="Reason" value ="" hidden>
                            </div>
                            <div id="section4">
                                Prevenetive Maintenance<br><br>
                                 Face Plugged With Soot<br><br>
                                 Engine Failure<br><br>
                                 EGR Failure</br><br>
                                 Turbo Failure</br><br>
                            </div>
                        </div>
               
                           
                </form>
                  <!-- <button id = "hide1" onclick = "hideContactInfo()" >Hide</button><br>-->
                  
                  
                  





                </div>
             
    <div id="footer">
	@ Hunsicker DataBase Add Job Information
	</div>

    </body>

    
    



</html>




